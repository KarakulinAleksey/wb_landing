(()=>{"use strict";var e=document.querySelectorAll(".content-block__control-panel_item"),t=document.querySelector(".view-block__lamp"),n=document.querySelector(".view-block"),o=document.querySelector(".content-block__control-panel_botton-light"),a=document.querySelector(".content-block__control-panel_botton-night"),c=document.querySelectorAll(".content-block__text.text-light");function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var r=function(){function e(t){var n=t.baseUrl,o=t.headers;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._baseUrl=n,this._headers=o}var t,n;return t=e,(n=[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getAllLamp",value:function(){return fetch("".concat(this._baseUrl),{method:"GET",headers:this._headers}).then(this._checkResponse)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._viewBlockLamp=t,this._controlPanelButtonLamp=n,this._contentBlockSpecificationsLamp=o}var t,n;return t=e,n=[{key:"addSpecificationsLamp",value:function(e){this._contentBlockSpecificationsLamp[0].innerHTML=this._upperCase(e.material),this._contentBlockSpecificationsLamp[1].innerHTML="H"+e.height+" x W"+e.width+" x D15",this._contentBlockSpecificationsLamp[2].innerHTML=e.weight+" kg",this._contentBlockSpecificationsLamp[3].innerHTML=this._joinText(e.electrification)}},{key:"_upperCase",value:function(e){return e.slice(0,1).toUpperCase()+e.slice(1)}},{key:"_joinText",value:function(e){return e.split(",").join(" |")}},{key:"addBackgroundControlPanelButtonLamp",value:function(e){e.classList.add("content-block__control-panel_item-focus")}},{key:"resetBackgroundControlPanelButtonLamp",value:function(){this._controlPanelButtonLamp.forEach((function(e){e.classList.remove("content-block__control-panel_item-focus")}))}},{key:"addImageViewBlock",value:function(e){this._viewBlockLamp.src=e.image}},{key:"addElement",value:function(e,t){var n=this;this._imageListItem=document.createElement("img"),this._imageListItem.src=e.image,this._imageListItem.classList.add("content-block__control-panel_image-light"),t.addEventListener("click",(function(o){n.addSpecificationsLamp(e),n.addImageViewBlock(e),n.resetBackgroundControlPanelButtonLamp(),n.addBackgroundControlPanelButtonLamp(t)})),t.prepend(this._imageListItem)}}],n&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=new s(t,e,c);a.addEventListener("click",(function(){n.classList.add("view-block__background-night")})),o.addEventListener("click",(function(){n.classList.remove("view-block__background-night")})),new r({baseUrl:"https://private-anon-f453b48ec0-lampshop.apiary-mock.com/lamps",headers:{"Content-Type":"application/json"}}).getAllLamp().then((function(t){for(var n=0;n<3;n++)u.addElement(t[n],e[n]);u.addSpecificationsLamp(t[0]),u.addImageViewBlock(t[0]),u.addBackgroundControlPanelButtonLamp(e[0])})).catch((function(e){console.log("Error "+e)}))})();